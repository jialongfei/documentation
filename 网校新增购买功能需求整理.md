# 需要核对的点

核对 并 敲定名称：

	现有三种学习途径，其中两种名称冲突，为了避免不必要的麻烦，希望可以重新设定三种途径各自的名称
	1. 直播班： 学员加入班次后，即可通过拓课云平台在线观看班次内的所有直播，可与老师互动。
	2. 课程回顾： 学员加入班次后，可以查看当前班次内所有课节往日通过拓课云平台直播后自动生成的视频文件，班次中每个课节可以生成多个视频文件。（录播课程回顾）
	3. 课程回放： 学员无需加入班次，只要购买相应课程，即可查看相应课程中老师手动录制+上传的视频文件，课程中每个课时只能对应一个视频文件。（录播课程）

	更名建议，如：
	1.直播班 = 在线直播视频
	2.直播回放 = 在线直播后自动录制无需上传的视频
	3.录播课程 = 手动录制后上传的视频

> 问题1：学员购买 `直播班` 后，默认是可以观看 `直播回放` 的，是否需要自动为其添加当前班内所包含的所有 `录播课程` 的权限？


# 可能的商品

1. 录播课程
2. 直播班
3. 产品

> 问题2：直播班&录播课的价格从哪里定

	★ 解决方案1：课程和班级都需关联指定产品，系统将自动获取该产品价格
		优点：定价统一，产品价格变动，所有关联课程&班级都会自动变化
		缺点：可能需要创建很多产品，前期操作相对较繁琐
	解决方案2：课程和班级的价格独立，与产品无关
		优点：定价灵活，前期操作简单
		缺点：因为和产品无关，目前可预测到的问题是，以后统计方面可能会遇到一些问题(因为每个客户的消费统计是跟产品关联的)
	解决方案3：课程和班级的价格独立，与产品无关，且后期统计 网校模块 和 客户模块 数据分开统计
		优点：定价灵活，操作简单
		缺点：网校模块和客户模块的消费金额统计需要分开

# 流程：

**如果添加购买按钮**

#### 一、录播课程

展示方面：
1. 页面包含 立即报名 和 试听 两个按钮

> 问题3：关于页面的立即报名按钮，未购买学员直接展示即可，已购买学员，是否需要改变按钮展示的内容

	解决方案1：全局性，无论用户是否已购买，将 试听 按钮改为 立即咨询 按钮，未购买用户展示 立即报名 按钮，已购买用户将 立即报名 按钮改为 已报名/已购买/立即试听 三选一
	解决方案2：已购买用户，将 立即报名 按钮改为 已购买 并不可点击，试听按钮 改为 开始学习
	解决方案3：已购买用户，隐藏 立即报名 按钮，仅显示 试听 按钮 并 将 试听 改为 开始学习

2. 未购买用户展示购买按钮
3. 未购买用户点击回放按钮时检测当前课时是否是免费/试听课
4. 其余步骤延续不加购买按钮流程

**如果不加购买按钮**

#### 一、录播课程


1. 查看录播课程内回放视频
2. 监测是否是免费/试听课
3. 如果是，监测是否登录，未登录跳转到登录页面
4. 如果是，监测是否登录，登录后直接回放
5. 如果不是，监测用户是否已购买当前商品
6. 已购买，直接播放
7. 未购买，提醒购买，若点击购买
8. 生成订单，并显示为未支付状态
9. 弹出购买页面，可使用支付宝/微信方式购买商品
10. 购买失败，根据原因修改订单状态，如：未支付/订单异常等
11. 购买成功，更新订单状态为：交易完成 并 将用户和此商品关联，形成已购买状态
12. 成功后即可自由观看已购买商品


#### 二、直播班

> 问题4：购买直播班即可加入班级，但班内有多个班次，应该加入哪个班次？

	★ 解决方案1：将需要购买的班，显示为：特定的某个班次而不是一整个班，如：日语N1冲刺班 - 2019夏季班？
		即，班级列表和详情页面展示的是班次而不是班级，如：日语N1冲刺班 - 2019夏季班，而不是日语N1冲刺班
	解决方案2：学员购买日语N1冲刺班后，直接加入日语N1冲刺班下所有已开设的班次
		即，学员甲2019年6月购买日语N1冲刺班，则购买当天之前日语N1冲刺班下开设的所有班次，学员甲都可以进入和学习
	解决方案3：学员购买日语N1冲刺班后，不能立即进入班级听课，需要相关老师确认后将其手动添加到某个班次后，学员方可进入和学习

#### 三、产品

	产品和直播班关联，购买产品即可加入班级，问题与直播班同理。


---

---------------------------------------------分割---------------------------------------------

---

# 名词简介

**相关名词和结构：**
	
	├─班级
	│  ├─课程
	│  │  ├─课时
	│  ├─班次 = 直播班
	│  │  ├─课节

**各名词之间的关系：**

`班级`中可以关联多个`课程`，`课程`中可以有多个`课时`；
`班级`中可以开设多个`班次`，每个`班次`自动继承当前`班级`中所有`课程`中的所有`课时`；
`班次`中将包含的某个`课时` `排课` 之后，就生成一个`课节`；
学员在某个`直播班`中，看到的每一节课，都是一个`课节`；
学员在某个`录播课程`中，看到的每一节可，都是一个`课时`；

**课时和课节的关系：**
	直播班中：
		课时是虚拟的，相当于一个规定，规定某个课节的名称和时长；
		课节是真实存在的，课节使用课时的名称和时长，学员上的每节课，就是课节，每个课节中可以生成多个直播回放视频文件；
		因此，假设班次中有100个课时，如果只排了5节课，则当前班次中只有5个课节，学员也只能上5节课，其余95个课时对学员来说都是不存在的。
	录播课程中：
		仅有课时，无课节概念，每个课时仅能拥有一个录播视频文件
**排课：**将某个课时选择开始时间和授课老师后生成一条新的记录，这个生成记录的操作/动作我们称之为 - 排课
**课节：**将某个课时选择开始时间和授课老师后生成一条新的记录，这条记录我们称之为 - 课节