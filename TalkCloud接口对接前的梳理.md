## 自己的教务系统课程流程整理

1.CRM创建课程

	创建一个 "日语冲刺" 课程

2.CRM创建课时
	
	"日语冲刺" 课程中 有10个课时
	1.第一课
	2.第二课
	...

3.CRM创建课期

	"日语冲刺" 课程长期存在,且每个时间段可能有N个课期

	如:
	3月份有一个课期
	4月份有二个课期
	5月份暂无课期
	6月份有N个课期

4.CRM为课期排课时  (每个课时和课期的关联记录,看做一个教室)

	选择当前课期包含哪些课时,是哪个老师授课.

	为3月份的课期,关联课时,且发现一些特殊情景.
	如:3月份的某个课期,只需要上前5个课时,即每个课期的课时内容不是完全一致的,已有的课程系统是这么设计的.

5.老师 和 学员 按照排课时间进入房间上课

6.老师按需上传作业文件或资料,完成后点击下课 (一个 (课时/教室) 的生命周期到此为止,学员可以再次观看此课时的录播视屏)


> 按照以上流程走下来,目前认为接入三方平台的最佳时机应该是在第4步,排课时创建教室,再次排课时修改教室的结束时间.
>
> 对接拓课云,创建教室,课时的开始时间 + 课时时长 = 当前教室的结束时间
> 同一个课期有多个课时,这里需要判断当前选中课时的时间是否是最后的一节课(按时间戳算)
> 如果不是最晚结束的课程,则不需要修改教室的结束时间.


## 事关重要的问题

	1.开发过程中如果遇到一些影响对接的问题,是以我们的系统为主(让三方配合我们)还是以三方的系统为主(修改我们自己的课程体系/系统)

	2.课程,课期,课时 和教室的对应关系应该是以下的哪种?

		我们的课程系统包含
			课程  课期  课时
		三方平台包含
			教室

		1.每个课时一个教室
			符合已有教务系统的逻辑
			每节课时都是一个教室,且课时里面的文档&教材&视屏回放也都可以较好的区分
			但随着时间增长,教室会越来越多,假设我们每年1000节课,用户回看两年前的课程理论是合理被允许的,但是此时三方平台已创建2000多个教室甚至更多,所以三方平台对教室的数量和视屏文件的数量(总占用存储空间)是否有限制.
		2.每个课期一个教室
			较符合已有教务系统的逻辑
			每个课期有多个课时,每个课时老师上完课视屏自动存储,但是需要把录屏和课时关联,以供学员视屏回放,但是目前三方接口缺少录屏结束的回调,且即使有回调,也没有明确的条件来区分当前录屏属于哪个课时,只能靠上课时间来匹配,不够精确. (如:课时有时间限制,假设A课时时长10分钟,2点开始,则2.10分结束,如果老师授课超过10分钟或低于10分钟,则匹配时间时,只能找出时间上匹配度最高的一节课时)
		3.每个课程一个教室
			不符合已有教务系统的逻辑
			当课程中有多个课期,且课期有时间重叠现象的话,无法正常上课,每个教室只能有一个讲师
			且课程文件(视屏,教材)无法关联


## 需要提供的支持

	暂无...

## 遇到的疑问

1.entry 接口只能进入房间,无法创建房间?      (已解决)

	// entry 接口

	文档描述 是创建 / 加入房间的接口
	如果房间存在,则进入房间;
	如果房间不存在,则创建并加入房间.
	但是测试下来,是只能加入已有的房间.

	已解决,按照实际情况,entry接口只用来进入已有教室,使用预约教室的接口来创建教室 
	(刚好我们也没有进入空教室直接新建教室的需求)

2.entry 接口的安全限制问题

	文档描述 接口请求成功后直接进入房间

	这个接口目前看来只能通过链接访问才能有效跳转到房间系统,如果只能通过链接访问的话,用户可以通过正常的流程,获取到此链接,然后分享此链接给未购买课程的学员,这样未购买课程的学员也能通过链接进入房间,所以三方平台是否有更好的接入建议.
